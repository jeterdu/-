/* Base Body and Typography inspired by iOS */
body {
    font-family: -apple-system, BlinkMacSystemFont, "SF Pro Text", "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
    line-height: 1.5;
    margin: 0;
    padding: 0; 
    background-color: #f0f2f5; /* iOS light gray background */
    color: #1c1c1e; /* iOS primary text color */
    display: flex;
    flex-direction: column; 
    align-items: center; 
    min-height: 100vh;
}

.container {
    background: #ffffff; /* iOS content background */
    padding: 20px;
    border-radius: 12px; /* iOS style rounded corners */
    box-shadow: 0 4px 12px rgba(0,0,0,0.08); /* iOS subtle shadow */
    width: 100%;
    max-width: 650px; /* Kept user's max-width */
    margin-top: 20px; 
    margin-bottom: 20px; 
    box-sizing: border-box;
}

/* Headings - iOS inspired sizing and weight */
h1 {
    font-size: 28px;
    font-weight: 600; /* Semibold */
    text-align: center;
    color: #1c1c1e;
    margin-top: 10px;
    margin-bottom: 25px;
}

h2 { /* For "輸入各項成績" */
    font-size: 20px;
    font-weight: 600;
    color: #1c1c1e;
    margin-top: 25px;
    margin-bottom: 15px;
    display: flex; 
    align-items: center; 
}

h3 { /* For "計算結果" */
    font-size: 17px;
    font-weight: 600;
    color: #3c3c43; /* Slightly muted for sub-section */
    margin-top: 25px;
    margin-bottom: 15px;
    display: flex; 
    align-items: center; 
}

legend { /* For Fieldset titles */
    font-size: 15px; /* iOS Form Group Title */
    font-weight: 400; /* Regular weight for legend, often less prominent */
    color: #636366;   /* iOS secondary label color */
    padding: 0 2px;
    margin-bottom: 8px; /* Space below legend, before first item */
    margin-left: 13px; /* Indent legend to align with cell content */
    text-transform: uppercase; /* iOS often uses uppercase for these */
    display: flex; 
    align-items: center; 
}

/* Options Grouping - Fieldset like iOS grouped table view */
.options-group {
    display: flex;
    flex-direction: column;
    gap: 25px; /* Increased gap between fieldsets */
    margin-bottom: 25px;
}

fieldset {
    border: none; 
    border-radius: 10px; 
    padding: 0; 
    margin: 0; /* Remove default fieldset margin */
    background-color: #ffffff; 
    box-shadow: 0 1px 1px rgba(0,0,0,0.03); /* Very subtle shadow for depth */
}

/* Styling for each item within a fieldset (radio button rows) */
.options-group div {
    margin-bottom: 0; /* Remove bottom margin as border will separate */
    padding: 11px 15px; /* iOS cell-like padding */
    display: flex; /* To align radio and label */
    align-items: center;
}

.options-group div:not(:last-child) {
    border-bottom: 1px solid #c6c6c8; /* iOS separator line, adjusted from #e5e5e5 */
}

.options-group label, .score-item label { /* General labels */
    margin-left: 0; /* Will be controlled by radio margin or specific item layout */
    cursor: pointer;
    font-size: 16px;
    color: #1c1c1e; 
}

/* Score input items */
.score-item {
    display: flex;
    align-items: center;
    gap: 10px;
    flex-wrap: wrap; 
    padding: 8px 15px; /* Add padding consistent with fieldset items */
    background-color: #ffffff; /* White background for score items if container isn't white */
}
.scores-input { /* Container for score items, style like a fieldset */
    background-color: #ffffff;
    border-radius: 10px;
    padding-top: 5px; /* Space for h2 if it's inside */
    padding-bottom: 5px;
    box-shadow: 0 1px 1px rgba(0,0,0,0.03);
}
.scores-input h2 {
    margin-left: 15px; /* Indent h2 similar to legend */
    margin-bottom: 8px;
    margin-top: 15px;
}

.score-item:not(:last-child) {
    border-bottom: 1px solid #c6c6c8;
}


.score-item label {
    flex-basis: 170px; 
    flex-shrink: 0;
}

/* Input Number - iOS style */
input[type="number"] {
    padding: 10px 12px;
    border: 1px solid #c6c6c8;
    border-radius: 8px;
    width: 100px; 
    box-sizing: border-box;
    font-size: 16px; 
    background-color: #f0f2f5; /* Or #ffffff for a flatter look inside white cells */
    color: #1c1c1e;
    text-align: right; /* Numbers often right-aligned */
}
input[type="number"]:focus { 
    border-color: #007AFF;
    outline: none; 
    box-shadow: 0 0 0 2px rgba(0, 122, 255, 0.3); 
}

/* Custom Radio Buttons - iOS style */
input[type="radio"] {
    appearance: none;
    -webkit-appearance: none;
    width: 22px;
    height: 22px;
    border: 1.5px solid #c6c6c8;
    border-radius: 50%;
    position: relative;
    outline: none;
    margin-right: 12px; /* Spacing from label text */
    vertical-align: middle;
    flex-shrink: 0; /* Prevent shrinking */
    cursor: pointer;
}
input[type="radio"]:checked {
    border-color: #007AFF;
    background-color: #007AFF; 
}
input[type="radio"]:checked::after { 
    content: '';
    display: block;
    width: 10px; 
    height: 10px;
    background: white;
    border-radius: 50%;
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
}
/* Ensure label in radio group is clickable and aligned */
.options-group div > label { /* Target label directly inside the div */
    flex-grow: 1; /* Allow label to take remaining space */
}


/* Buttons - iOS style */
button {
    display: inline-block;
    border: none;
    border-radius: 8px;
    cursor: pointer;
    font-size: 17px; /* iOS button text size */
    font-weight: 600; /* Semibold for primary, Medium for others */
    padding: 12px 20px;
    margin-top: 25px; /* Increased margin-top */
    margin-right: 10px;
    transition: background-color 0.2s ease, opacity 0.2s ease; /* Added opacity transition */
    text-align: center;
    min-width: 100px; /* Minimum width for better touch target */
}
button:active { /* Pressed state */
    opacity: 0.7;
}

#calculateButton {
    background-color: #007AFF; /* iOS Blue */
    color: white;
}
#calculateButton:hover {
    background-color: #0056b3; /* Darker blue */
}

#clearButton, #copyResultsButton { /* iOS Gray/Tinted Button Style */
    background-color: #e5e5ea; 
    color: #007AFF; 
    font-weight: 500; /* Medium weight */
}
#clearButton:hover, #copyResultsButton:hover {
    background-color: #d1d1d6; 
}


/* Results Output Area */
.results-output {
    margin-top: 25px;
    padding: 15px;
    background-color: transparent; /* Make it blend with container or have its own card style */
    border: none; 
    border-radius: 8px; /* Consistent rounding */
}
.results-output h3 { /* Make result heading distinct */
    margin-left: 0; /* Align with result items */
    padding-left: 0;
}

.result-item {
    margin-bottom: 12px; 
    font-size: 1.05em; /* Slightly adjusted */
    line-height: 1.5; 
    padding: 8px 0; /* Add some padding for better spacing if lines are long */
}

/* Status Colors - iOS Semantic Colors */
#statusResult.pass { color: #34C759; font-weight: 600;} 
#statusResult.makeup { color: #FF9500; font-weight: 600;} 
#statusResult.fail { color: #FF3B30; font-weight: 600;} 


#totalGradeResult, #statusResult, #neededResult, #copyResultsButton {
    display: none; /* Initial state, JS will control visibility */
}

/* Footer Styles - iOS Inspired */
footer {
    text-align: center; 
    margin-top: 30px;   
    padding: 20px 15px; 
    border-top: 1px solid #d1d1d6; /* iOS separator color */
    width: 100%; 
    box-sizing: border-box; 
    background-color: #f0f2f5; /* Consistent with body background */
}

footer p {
    font-size: 13px;  
    color: #8a8a8e; /* iOS secondary/footnote text color */
    margin: 4px 0;     
    line-height: 1.4;  
}

footer a { 
    color: #007AFF; /* iOS link blue */
    text-decoration: none;
}

footer a:hover {
    text-decoration: underline;
}
